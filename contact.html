<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact | Dr. Sonia Kang</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/logo1.png">
    <link rel="apple-touch-icon" href="images/logo1.png">
    
    <!-- Open Graph / Social Media Preview -->
    <meta property="og:title" content="Contact | Dr. Sonia Kang">
    <meta property="og:description" content="Get in touch with Dr. Sonia Kang for media inquiries, speaking engagements, consulting opportunities, or lab positions.">
    <meta property="og:image" content="images/sonia-kang.png">
    <meta property="og:url" content="https://soniakang.com/contact.html">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div id="page-container">

        <header id="main-header">
            <div class="container header-flex-container">
                <div class="logo-area">
                    <a href="/" class="logo-text">SONIA KANG</a>
                </div>
                <button class="mobile-nav-toggle" aria-label="Toggle mobile navigation">
                    <i class="fas fa-bars"></i>
                </button>
                <nav id="top-menu-nav">
                    <ul id="top-menu" class="nav">
                        <li><a href="about.html">About</a></li>
                        <li><a href="publications.html">Publications</a></li>
                        <li><a href="lab.html">Lab</a></li>
                        <li><a href="podcast.html">Podcast</a></li>
                        <li><a href="media.html">Media</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main id="main-content" class="contact-page-main-content">
            <div class="container page-container">
                <div class="page-title-wrapper animate-on-scroll">
                    <span class="page-title-animated-icon">âœ³</span>
                    <h1 class="page-title">Contact Sonia</h1>
                </div>
                
                <hr class="section-divider animate-on-scroll">

                <div class="contact-content-section animate-on-scroll">
                    <p>To contact Sonia for media inquiries, consulting opportunities, or speaking engagements, use the form below.</p>
                    
                    <div class="contact-form-container">
                        <form action="#" method="POST" id="contact-form">
                            <!-- Web3Forms required/public key -->
                            <input type="hidden" name="access_key" value="6bb8a14d-8f78-4e96-9c73-9fbf71c8a604">
                            <!-- Will be set by JS to: [Topic Label] Subject -->
                            <input type="hidden" name="subject" id="wf-subject" value="">
                            <!-- From name shown in notification email -->
                            <input type="hidden" name="from_name" value="Sonia Kang | Contact Form">
                            <!-- Reply-To (will default to email, but set explicitly via JS) -->
                            <input type="hidden" name="replyto" id="wf-replyto" value="">
                            <!-- Honeypot (should remain unchecked) -->
                            <input type="checkbox" name="botcheck" id="botcheck" style="display:none;" tabindex="-1" autocomplete="off">

                            <div class="form-row">
                                <div class="form-group form-group-name">
                                    <label for="name">Name</label>
                                    <input type="text" id="name" name="Name" required>
                                </div>
                                <div class="form-group form-group-email">
                                    <label for="email">Email Address</label>
                                    <input type="email" id="email" name="Email" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group form-group-topic">
                                    <label for="topic">Topic</label>
                                    <select id="topic" name="Topic" required>
                                        <option value="" disabled selected>Select a topic...</option>
                                        <option value="Media Inquiry">Media Inquiry</option>
                                        <option value="Consulting Opportunity">Consulting Opportunity</option>
                                        <option value="Speaking Engagement">Speaking Engagement</option>
                                        <option value="Joining the Lab">Joining the Lab</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group form-group-subject">
                                    <label for="subject">Subject</label>
                                    <input type="text" id="subject" name="Subject" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="message">Message</label>
                                <textarea id="message" name="Message" rows="6" required></textarea>
                            </div>
                            <div class="form-group form-submit-group">
                                <button type="submit" class="contact-submit-link animated-underline-link" style="border:none; background:none; padding:0; cursor:pointer;">
                                    Send Message >
                                </button>
                            </div>
                            <!-- Better success/error UI -->
                            <div id="form-result" class="form-alert" aria-live="polite" role="status" style="display:none;"></div>
                        </form>
                    </div>
                </div>
                
            </div>
        </main>

        <footer id="main-footer">
            <div class="container footer-flex">
                <div class="footer-left-content">
                    <div class="footer-logo-grid">
                        <div class="footer-logo-item"><a href="https://www.rotman.utoronto.ca/"><img src="images/logo1.png" alt="Logo 1"></a></div>
                        <div class="footer-logo-item"><a href="https://www.utoronto.ca/"><img src="images/logo2.png" alt="Logo 2"></a></div>
                        <div class="footer-logo-item"><a href="https://www.gendereconomy.org/"><img src="images/logo3.jpg" alt="Logo 3"></a></div>
                        <div class="footer-logo-item"><a href="https://www.rotman.utoronto.ca/faculty-and-research/research-centres/behavioural-economics-in-action-at-rotman/"><img src="images/logo4.jpg" alt="Logo 4"></a></div>
                    </div>
                </div>
                <div class="footer-right-content">
                    <div class="footer-social-icons-right">
                        <a href="https://scholar.google.com/citations?user=AYjR5XIAAAAJ" aria-label="Google Scholar Profile"><img src="images/scholar.png" alt="Google Scholar icon" class="social-icon-img"></a>
                        <a href="https://www.linkedin.com/in/sonia-kang-bba669159/" aria-label="LinkedIn Profile"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://orcid.org/0009-0001-8429-3378" aria-label="ORCID Profile"><i class="fab fa-orcid"></i></a>
                    </div>
                    <p class="copyright animate-on-scroll">&copy; 2025 Sonia Kang</p>
                </div>
            </div>
        </footer>

    </div> <!-- End #page-container -->

    <script>
        // Sticky Header
        const header = document.getElementById('main-header');
        const headerHeight = header.offsetHeight; // Get header height for offsetting content if needed, or use CSS var

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) { // Adjust 50 to when you want the change to happen
                header.classList.add('header-scrolled');
            } else {
                header.classList.remove('header-scrolled');
            }
        });

        // Mobile navigation toggle
        const mobileToggle = document.querySelector('.mobile-nav-toggle');
        const nav = document.getElementById('top-menu-nav');

        if (mobileToggle && nav) {
            mobileToggle.addEventListener('click', function() {
                nav.classList.toggle('nav-open');
                
                // Change icon
                const icon = this.querySelector('i');
                if (nav.classList.contains('nav-open')) {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                } else {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            });

            // Close mobile nav when clicking on nav links
            const navLinks = nav.querySelectorAll('a');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    nav.classList.remove('nav-open');
                    const icon = mobileToggle.querySelector('i');
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                });
            });
        }

        // Scroll Animations
        const animatedElements = document.querySelectorAll('.animate-on-scroll');
        const observerOptions = {
            root: null, // relative to document viewport
            rootMargin: '0px',
            threshold: 0.1 // 10% of the item is visible
        };

        const observer = new IntersectionObserver((entries, observerInstance) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    // Optional: unobserve after animation to save resources
                    // observerInstance.unobserve(entry.target); 
                } else {
                    // Optional: remove class if you want animation to replay on scroll up
                    // entry.target.classList.remove('is-visible');
                }
            });
        }, observerOptions);

        animatedElements.forEach(el => {
            observer.observe(el);
        });

        // Web3Forms inline submission (stay on page)
        (function() {
            const form = document.getElementById('contact-form');
            const result = document.getElementById('form-result');
            if (!form) return;

            function buildSubject() {
                const topicSelect = document.getElementById('topic');
                const topicLabel = topicSelect.options[topicSelect.selectedIndex]?.text || 'General';
                const userSubj = document.getElementById('subject').value.trim();
                return `[${topicLabel}] ${userSubj}`.trim();
            }

            function showSuccess(message) {
                result.className = 'form-alert form-alert--success';
                result.style.display = 'flex';
                result.style.gap = '8px';
                result.innerHTML = `<span class="form-alert__icon" aria-hidden="true">âœ”</span><span>${message}</span>`;
                result.focus();
            }

            function showError(message) {
                result.className = 'form-alert form-alert--error';
                result.style.display = 'block';
                result.innerText = message;
                result.focus();
            }

            form.addEventListener('submit', function(e) {
                e.preventDefault(); // stop browser POST to contact.html (405)

                // Honeypot quick check
                const bot = document.getElementById('botcheck');
                if (bot && bot.checked) return;

                // Fill hidden fields for Web3Forms
                const wfSubject = document.getElementById('wf-subject');
                const wfReplyTo = document.getElementById('wf-replyto');
                const emailEl = document.getElementById('email');
                wfSubject.value = buildSubject();
                wfReplyTo.value = (emailEl?.value || '').trim();

                const formData = new FormData(form);
                const object = Object.fromEntries(formData);
                const json = JSON.stringify(object);

                // No 'please wait' message

                fetch('https://api.web3forms.com/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: json
                })
                .then(async (response) => {
                    const data = await response.json();
                    if (response.status === 200) {
                        showSuccess('Message sent. Thank you!');
                        form.reset();
                    } else {
                        showError(data.message || 'Something went wrong. Please try again later.');
                    }
                })
                .catch(() => {
                    showError('Something went wrong. Please try again later.');
                });
            });
        })();

    </script>
</body>
</html> 